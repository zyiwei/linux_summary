# 高级网络 - 网卡绑定、子接口
查看网卡状态：
mii-tool eth0
查看详细信息：
ethtool eth0 查看网卡物理特性
ethtool -i eth0 查看网卡驱动信息
ethtool -S eth0 查看网卡状态

### IP别名
在一个物理网卡上配置多个IP地址，实现类似子接口的功能。

CentOS系统默认启用NetworkManager对网卡管理，如果使用子接口要禁用NetworkManager
service NetworkManager stop
chkconfig NetworkManager off
使用IP命令临时创建一个IP别名：
ip addr add 10.1.1.1/24 dev eth0 label eth0:0
eth0:0中第二个0为别名编号，第二个可以命名为eth0:1

### 永久添加IP别名
在/etc/sysconfig/network-scripts/下添加别名配置文件：
配置文件名：ifcfg-eth0:0
内容：
DEVICE=eth0:0
IPADDR=10.1.1.1
PREFIX=24
ONPARENT=yes

### 多网卡绑定
linux支持将多块物理网卡绑定为一个逻辑网卡，绑定后的逻辑网卡可以并行使用组成其的所有物理网卡，可以提高带宽及稳定性
绑定后物理网卡不在直接使用，IP地址配置在绑定后的逻辑网卡上

Linux支持一下的网卡绑定模式：
模式0：平衡轮训 （带宽）
模式1：主动备份 （稳定性）
模式3：广播

网卡绑定配置：
绑定后逻辑网卡命名为bondn,n为编号
修改每个属于该逻辑网卡的物理网卡的配置文件：
/etc/sysconfig/network-scripts/ifcfg-eth0
添加或更改：
DEVICE=eth0
BOOTPROTO=none
ONBOOT=yes 
MASTER=bond0
SLAVE=yes
USERCTL=no
然后bond网卡添加驱动支持：
/etc/modprobe.d/bonding.conf:
alias bond0 bonding

重启网络服务
service network restart