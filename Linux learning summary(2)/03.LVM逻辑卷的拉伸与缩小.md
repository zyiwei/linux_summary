# LVM逻辑卷的拉伸与缩小
逻辑卷的拉伸操作可以在线进行，不需要卸载逻辑卷
### 拉伸一个逻辑卷
1.保证VG中有足够的空闲空间
vgdisplay
2.扩充逻辑卷
lvextend -L +1G /dev/zhangyiwei/mylv
3.查看扩充后LV大小
lvdisplay
4.更新文件系统(格式化)
resize2fs /dev/zhangyiwei/mylv
5.查看更新后文件系统
df -h

### 拉伸一个卷组
1.将要添加到VG的硬盘格式化为PV
pvcreate /dev/sdd
2.将新的PV添加到指定卷组中
vgextend zhangyiwei /dev/sdd
3.查看扩充后VG大小
vgdisplay

### 缩小一个逻辑卷
逻辑卷的缩小必须离线,把一些PE还给VG
1.卸载已经挂载的逻辑卷
umount /dev/zhangyiwei/mylv
2.缩小文件系统
resize2fs /dev/zhangyiwei/mylv 1G
3.缩小LV
lvreduce -L -1G /dev/zhangyiwei/mylv  非常危险
4.查看缩小的逻辑卷
lvdisplay
5.重新挂载
mount /dev/zhangyiwei/mylv /mnt

### 缩小卷组
1.将一个PV从指定卷组中移除
vgreduce zhangyiwei /dev/sdd
2.查看缩小后的卷组大小
vgs
pvremove /dev/sdd
pvs